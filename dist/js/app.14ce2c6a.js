(function(){"use strict";var e={9686:function(e,t,o){var r=o(3751),s=o(641),n=o(33);const a=e=>((0,s.Qi)("data-v-0be0f321"),e=e(),(0,s.jt)(),e),i={id:"app"},l=a((()=>(0,s.Lk)("h1",null,"Online Classes",-1))),c=a((()=>(0,s.Lk)("span",{class:"fa-solid fa-cart-shopping"},null,-1)));function u(e,t,o,r,a,u){return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("header",null,[l,(0,s.Lk)("div",null,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>u.toggleComponent&&u.toggleComponent(...e))},[(0,s.eW)((0,n.v_)(u.cartItemCount)+" ",1),c,(0,s.eW)(" Checkout ")])])]),((0,s.uX)(),(0,s.Wv)((0,s.$y)(a.currentComponent),{lessons:u.sortedLessons,cart:a.cart,onAddItemToCart:u.addToCart,onRemoveItemFromCart:u.removeFromCart,onSearchLessons:u.filterLessons,onSortLessons:u.sortLessons},null,40,["lessons","cart","onAddItemToCart","onRemoveItemFromCart","onSearchLessons","onSortLessons"]))])}o(4114);const d=e=>((0,s.Qi)("data-v-550e2f48"),e=e(),(0,s.jt)(),e),m=d((()=>(0,s.Lk)("h1",null,"Lesson List",-1))),h=d((()=>(0,s.Lk)("label",{for:"search"},"Search:",-1))),p=d((()=>(0,s.Lk)("label",{for:"sort"},"Sort by:",-1))),v=d((()=>(0,s.Lk)("option",{value:"subject"},"Subject",-1))),f=d((()=>(0,s.Lk)("option",{value:"location"},"Location",-1))),L=d((()=>(0,s.Lk)("option",{value:"price"},"Price",-1))),k=d((()=>(0,s.Lk)("option",{value:"spaces"},"Spaces",-1))),b=[v,f,L,k],C=d((()=>(0,s.Lk)("label",{for:"order"},"Order:",-1))),g=d((()=>(0,s.Lk)("option",{value:"asc"},"Ascending",-1))),y=d((()=>(0,s.Lk)("option",{value:"desc"},"Descending",-1))),E=[g,y],O={class:"lessons-grid"},w={class:"lesson-content"},_={class:"text"},S=["onClick","disabled"],j={class:"image"},A=["src"];function F(e,t,o,a,i,l){return(0,s.uX)(),(0,s.CE)("div",null,[m,(0,s.Lk)("div",null,[h,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"search","onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>l.searchLessons&&l.searchLessons(...e))},null,544),[[r.Jo,i.searchQuery]])]),(0,s.Lk)("div",null,[p,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.sortAttribute=e),onChange:t[3]||(t[3]=(...e)=>l.emitSort&&l.emitSort(...e))},b,544),[[r.u1,i.sortAttribute]]),C,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.sortOrder=e),onChange:t[5]||(t[5]=(...e)=>l.emitSort&&l.emitSort(...e))},E,544),[[r.u1,i.sortOrder]])]),(0,s.Lk)("div",O,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.lessons,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"lessons-card",key:e.id},[(0,s.Lk)("div",w,[(0,s.Lk)("div",_,[(0,s.Lk)("h2",null,(0,n.v_)(e.subject),1),(0,s.Lk)("p",null,"Location: "+(0,n.v_)(e.location),1),(0,s.Lk)("p",null,"Price: $"+(0,n.v_)(e.price),1),(0,s.Lk)("p",null,"Spaces: "+(0,n.v_)(e.spaces),1),(0,s.Lk)("button",{onClick:t=>l.addToCart(e),disabled:e.spaces<=0},"Add to Cart",8,S)]),(0,s.Lk)("div",j,[(0,s.Lk)("img",{src:e.icon,alt:"AfterSchool Activity"},null,8,A)])])])))),128))])])}var I={name:"LessonList",props:["lessons"],data(){return{searchQuery:"",sortAttribute:"subject",sortOrder:"asc"}},methods:{addToCart(e){this.$emit("add-item-to-cart",e)},searchLessons(){this.$emit("search-lessons",this.searchQuery)},emitSort(){this.$emit("sort-lessons",{attribute:this.sortAttribute,order:this.sortOrder})}}},Q=o(6262);const x=(0,Q.A)(I,[["render",F],["__scopeId","data-v-550e2f48"]]);var V=x;const X=e=>((0,s.Qi)("data-v-40a5d5a6"),e=e(),(0,s.jt)(),e),P=X((()=>(0,s.Lk)("h1",null,"Shopping Cart",-1))),$={class:"lessons-grid"},D={class:"lesson-content"},N={class:"text"},T=["onClick"],U={class:"image"},J=["src"],M=X((()=>(0,s.Lk)("h2",null,"Checkout",-1))),R={name:"myForm",method:"post"},W={class:"form-group"},K=X((()=>(0,s.Lk)("label",{for:"fname"},"Name:",-1))),q={key:0,class:"error-message"},z={class:"form-group"},Z=X((()=>(0,s.Lk)("label",{for:"phone_no"},"Phone Number:",-1))),B={key:0,class:"error-message"},G=["disabled"],H={key:0,class:"confirmation-message"};function Y(e,t,o,a,i,l){return(0,s.uX)(),(0,s.CE)("div",null,[P,(0,s.Lk)("div",$,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.cart,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"lessons-card",key:e.id},[(0,s.Lk)("div",D,[(0,s.Lk)("div",N,[(0,s.Lk)("h2",null,(0,n.v_)(e.subject),1),(0,s.Lk)("p",null,"Location: "+(0,n.v_)(e.location),1),(0,s.Lk)("p",null,"Price: $"+(0,n.v_)(e.price),1),(0,s.Lk)("button",{onClick:t=>l.removeItemFromCart(e)},"Remove Item",8,T)]),(0,s.Lk)("div",U,[(0,s.Lk)("img",{src:e.icon,alt:"AfterSchool Activity"},null,8,J)])])])))),128))]),(0,s.Lk)("div",null,[M,(0,s.Lk)("form",R,[(0,s.Lk)("div",W,[K,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"fname","onUpdate:modelValue":t[0]||(t[0]=e=>i.formData.fname=e)},null,512),[[r.Jo,i.formData.fname]]),i.validationErrors.name?((0,s.uX)(),(0,s.CE)("div",q,(0,n.v_)(i.validationErrors.name),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",z,[Z,(0,s.bo)((0,s.Lk)("input",{type:"text",id:"phone_no","onUpdate:modelValue":t[1]||(t[1]=e=>i.formData.phone_no=e)},null,512),[[r.Jo,i.formData.phone_no]]),i.validationErrors.number?((0,s.uX)(),(0,s.CE)("div",B,(0,n.v_)(i.validationErrors.number),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("input",{type:"button",disabled:!l.isFormValid,value:"Checkout",onClick:t[2]||(t[2]=e=>l.submitForm())},null,8,G),i.orderSubmitted?((0,s.uX)(),(0,s.CE)("div",H,(0,n.v_)(i.confirmationMessage),1)):(0,s.Q3)("",!0)])])])}var ee={name:"CheckoutForm",props:["cart"],data(){return{formData:{fname:"",phone_no:""},validationErrors:{name:"",number:""},orderSubmitted:!1,confirmationMessage:""}},methods:{removeItemFromCart(e){this.$emit("remove-item-from-cart",e)},submitForm(){this.isFormValid?(this.orderSubmitted=!0,this.confirmationMessage="Order has been submitted!"):(this.validationErrors.name="No special characters or numbers allowed",this.validationErrors.number="Only digits are allowed")},isNameValid(){const e=/^[a-zA-Z]+$/,t=this.formData.fname.trim();return t?e.test(t)?(this.validationErrors.name="",!0):(this.validationErrors.name="No special characters or numbers allowed",!1):(this.validationErrors.name="Name must be provided",!1)},isPhoneValid(){const e=/^\d+$/,t=this.formData.phone_no.trim();return t?e.test(t)?(this.validationErrors.number="",!0):(this.validationErrors.number="Only digits are allowed",!1):(this.validationErrors.number="Phone number must be provided",!1)}},computed:{isFormValid(){return this.isNameValid()&&this.isPhoneValid()}}};const te=(0,Q.A)(ee,[["render",Y],["__scopeId","data-v-40a5d5a6"]]);var oe=te,re={data(){return{currentComponent:"Lesson",cart:[],lessons:[],searchQuery:"",sortAttribute:"subject",sortOrder:"asc"}},components:{Lesson:V,Checkout:oe},computed:{cartItemCount(){return this.cart.length},filteredLessons(){const e=this.searchQuery.toLowerCase();return this.lessons.filter((t=>{const o=t.subject.toLowerCase(),r=t.location.toLowerCase();return o.includes(e)||r.includes(e)}))},sortedLessons(){const e=this.sortAttribute,t="asc"===this.sortOrder?1:-1;return this.filteredLessons.slice().sort(((o,r)=>o[e]<r[e]?-1*t:o[e]>r[e]?1*t:0))}},methods:{toggleComponent(){this.currentComponent="Lesson"===this.currentComponent?"Checkout":"Lesson"},addToCart(e){e.spaces--,this.cart.push(e)},removeFromCart(e){const t=this.cart.indexOf(e);if(-1!==t){this.cart.splice(t,1);const o=this.lessons.find((t=>t.id===e.id));o&&o.spaces++}},async fetchLessons(){try{const e=await fetch("https://express-app-ggq1.onrender.com/collection/products");if(!e.ok)throw new Error("Network response was not ok");const t=await e.json();this.lessons=t}catch(e){console.error("Error fetching lessons from server, using local data:",e);const t=await fetch("/petstore/public/products.json"),o=await t.json();this.lessons=o}},filterLessons(e){this.searchQuery=e},sortLessons({attribute:e,order:t}){this.sortAttribute=e,this.sortOrder=t}},mounted(){this.fetchLessons()}};const se=(0,Q.A)(re,[["render",u],["__scopeId","data-v-0be0f321"]]);var ne=se;(0,r.Ef)(ne).mount("#app")}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,r,s,n){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],s=e[u][1],n=e[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&n||a>=n)&&Object.keys(o.O).every((function(e){return o.O[e](r[l])}))?r.splice(l--,1):(i=!1,n<a&&(a=n));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,s,n]}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,n,a=r[0],i=r[1],l=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var u=l(o)}for(t&&t(r);c<a.length;c++)n=a[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},r=self["webpackChunkpetstore"]=self["webpackChunkpetstore"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(9686)}));r=o.O(r)})();
//# sourceMappingURL=app.14ce2c6a.js.map